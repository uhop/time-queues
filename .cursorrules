# time-queues — AI agent conventions

For full guidance see [CLAUDE.md](CLAUDE.md).

## Code Style (Prettier)

- 2-space indent, single quotes, no trailing semicolons, 120-char lines
- PascalCase classes (`MicroTask`), camelCase functions (`defer`)
- Files match export names: `MicroTask.js`, `defer.js`
- All modules export both named and default
- Private fields use `#prefix` with getters for read-only access
- `Promise.withResolvers()` preferred; manual `Promise` fallback where needed

## Key Commands

- `npm test` — run all tests
- `npm run ts-check` — TypeScript static analysis
- `npm run lint:fix` — format with Prettier

## Quick Reference

- Inheritance: `MicroTaskQueue` → `ListQueue` → `IdleQueue`/`FrameQueue`/`LimitedQueue`/`PageWatcher`; `Scheduler` extends `MicroTaskQueue` directly
- Standalone classes: `Counter`, `Throttler`, `Retainer`, `CancelTaskError`
- Start exploring: `src/MicroTask.js` → `src/MicroTaskQueue.js` → `src/ListQueue.js`
- Detailed docs: `docs/technical/ARCHITECTURE.md`, `docs/technical/API.md`
